<!--
  Generated template for the ListaCotizacionPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar color="orange">

		<button ion-button menuToggle>
			<ion-icon name="menu"></ion-icon>
		</button>
		<div class="div_title">
			<img src="assets/icon_casco.png">
			<label>CAPP</label>
		</div>
		<ion-title>
			Cotización
		</ion-title>

	</ion-navbar>

</ion-header>


<ion-content padding>
	<div class="encabezado">
		<ion-row>
			<ion-col col-12 class="cabecera">Envío</ion-col>
			<ion-col col-4>
				<label><b>Fecha:</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{fecha}}</u></label>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				<label><b>Hora:</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{hora}}</u></label>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				<label><b>Empresa:</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{empresa}}</u></label>
			</ion-col>
		</ion-row>
		<ion-row>
			<ion-col col-4>
				<label><b>Estado:</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{estado}}</u></label>
			</ion-col>
		</ion-row>
		<ion-row *ngIf="estadoId == 2">
			<ion-col col-12 class="cabecera">Respuesta</ion-col>
			<ion-col col-4>
				<label><b>Fecha</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{fecha_respuesta}}</u></label>
			</ion-col>
			<ion-col col-4>
				<label><b>Hora</b></label>
			</ion-col>
			<ion-col col-8>
				<label><u>{{hora_respuesta}}</u></label>
			</ion-col>
		</ion-row>
	</div>

	<div class="table">
		<ion-row color="darkCapp" class="table-head">
			<ion-col col-12 *ngIf="estadoId == 1">
				<label>Producto</label>
			</ion-col>
			<ion-col col-8 *ngIf="estadoId == 2">
				<label>Producto</label>
			</ion-col>
			<ion-col col-4 *ngIf="estadoId == 2">
				<label>Cantidad</label>
			</ion-col>
		</ion-row>
		<ion-row *ngFor="let item of lista" class="table-body">
			<ion-col col-12 *ngIf="estadoId == 1">
				<div class="divLabel"><label>{{item.nombre}}</label></div>
			</ion-col>
			<ion-col col-8 *ngIf="estadoId == 2">
				<div class="divLabel"><label>{{item.nombre}}</label></div>
			</ion-col>
			<ion-col col-4 text-center *ngIf="estadoId == 2" class="col-cantidad">
				<ion-row>
					<ion-col col-4>
						<button ion-button (click)="addCantidad(item)">
							<ion-icon name="add"></ion-icon>
						</button>
					</ion-col>
					<ion-col col-4>
						<div class="divLabel cantidad">
							<label>{{item.cantidad}}</label>
						</div>
					</ion-col>
					<ion-col col-4>
						<button color="danger" ion-button (click)="rmCantidad(item)">
							<ion-icon name="remove"></ion-icon>
						</button>
					</ion-col>
				</ion-row>
				<label *ngIf="item.precioTotal == undefined" style="color: green">{{item.precio.toLocaleString()}}</label>
				<label *ngIf="item.precioTotal != undefined" style="color: green">{{item.precioTotal.toLocaleString()}}</label>
			</ion-col>
		</ion-row>
		<ion-row *ngIf="estadoId == 2" style="background-color: #333; color: white">
			<ion-col col-8 text-right>
				Total:
			</ion-col>
			<ion-col col-4 text-center>
				{{total.toLocaleString()}}
			</ion-col>
		</ion-row>
	</div>


	<button (click)="siguiente()" *ngIf="estadoId == 2" [disabled]="total == 0" color="darkCapp" ion-button full>Siguiente</button>

</ion-content>